/*!
 * PayPalJSButtons
 * JavaScript integration for PayPal's payment buttons
 * @version 1.0.0 - 2013-03-17
 * @author Jeff Harrell <https://github.com/jeffharrell/>
 */
if(PAYPAL===void 0||!PAYPAL)var PAYPAL={};if(PAYPAL.apps=PAYPAL.apps||{},function(){"use strict";var e={parent:document.body,displayEdge:"right",edgeDistance:"50px",formTarget:null,cookiePath:"/",cartDuration:30,strings:{button:"",subtotal:"",discount:"",shipping:"",processing:""},name:"PPMiniCart",peekEnabled:!0,paypalURL:"https://www.paypal.com/cgi-bin/webscr",assetURL:"http://www.minicartjs.com/build/",events:{onRender:null,afterRender:null,onHide:null,afterHide:null,onShow:null,afterShow:null,onAddToCart:null,afterAddToCart:null,onRemoveFromCart:null,afterRemoveFromCart:null,onCheckout:null,onReset:null,afterReset:null}};if(!PAYPAL.apps.MiniCart){PAYPAL.apps.MiniCart=function(){var o={},a=!1,i=!1,r={_cart:!0,_xclick:!0},u="MiniCart_AddToCart_WPS_US",s=/^(?:business|currency_code|lc|paymentaction|no_shipping|cn|no_note|invoice|handling_cart|weight_cart|weight_unit|tax_cart|page_style|image_url|cpp_|cs|cbt|return|cancel_return|notify_url|rm|custom|charset)/,c=function(){var t,n,o=e.name,a=[];a.push("#"+o+" form { position:fixed; float:none; top:-250px; "+e.displayEdge+":"+e.edgeDistance+"; width:265px; margin:0; padding:50px 10px 0; min-height:170px; background:#fff url("+e.assetURL+"images/minicart_sprite.png) no-repeat -125px -60px; border:1px solid #999; border-top:0; font:13px/normal arial, helvetica; color:#333; text-align:left; -moz-border-radius:0 0 8px 8px; -webkit-border-radius:0 0 8px 8px; border-radius:0 0 8px 8px; -moz-box-shadow:1px 1px 1px rgba(0, 0, 0, 0.1); -webkit-box-shadow:1px 1px 1px rgba(0, 0, 0, 0.1); box-shadow:1px 1px 1px rgba(0, 0, 0, 0.1); } "),a.push("#"+o+" ul { position:relative; overflow-x:hidden; overflow-y:auto; height:130px; margin:0 0 7px; padding:0; list-style-type:none; border-top:1px solid #ccc; border-bottom:1px solid #ccc; } "),a.push("#"+o+" li { position:relative; margin:-1px 0 0; padding:6px 5px 6px 0; border-top:1px solid #f2f2f2; } "),a.push("#"+o+" li a { display: block; width: 155px; color:#333; text-decoration:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; } "),a.push("#"+o+" li a span { color:#999; font-size:10px; } "),a.push("#"+o+" li .quantity { position:absolute; top:.5em; right:78px; width:22px; padding:1px; border:1px solid #83a8cc; text-align:right; } "),a.push("#"+o+" li .price { position:absolute; top:.5em; right:4px; } "),a.push("#"+o+" li .remove { position:absolute; top:9px; right:60px; width:14px; height:14px; background:url("+e.assetURL+"images/minicart_sprite.png) no-repeat -134px -4px; border:0; cursor:pointer; } "),a.push("#"+o+" p { margin:0; padding:0 0 0 20px; background:url("+e.assetURL+"images/minicart_sprite.png) no-repeat; font-size:13px; font-weight:bold; } "),a.push("#"+o+" p:hover { cursor:pointer; } "),a.push("#"+o+" p input { float:right; margin:4px 0 0; padding:1px 4px; text-decoration:none; font-weight:normal; color:#333; background:#ffa822 url("+e.assetURL+"images/minicart_sprite.png) repeat-x left center; border:1px solid #d5bd98; border-right-color:#935e0d; border-bottom-color:#935e0d; -moz-border-radius:2px; -webkit-border-radius:2px; border-radius:2px; } "),a.push("#"+o+" p .shipping { display:block; font-size:10px; font-weight:normal; color:#999; } "),t=document.createElement("style"),t.type="text/css",t.styleSheet?t.styleSheet.cssText=a.join(""):t.appendChild(document.createTextNode(a.join(""))),n=document.getElementsByTagName("head")[0],n.appendChild(t)},p=function(){var t,n,a,i,r,s=o.UI;s.wrapper=document.createElement("div"),s.wrapper.id=e.name,t=document.createElement("input"),t.type="hidden",t.name="cmd",t.value="_cart",n=t.cloneNode(!1),n.name="upload",n.value="1",a=t.cloneNode(!1),a.name="bn",a.value=u,s.cart=document.createElement("form"),s.cart.method="post",s.cart.action=e.paypalURL,e.formTarget&&(s.cart.target=e.formTarget),s.cart.appendChild(t),s.cart.appendChild(n),s.cart.appendChild(a),s.wrapper.appendChild(s.cart),s.itemList=document.createElement("ul"),s.cart.appendChild(s.itemList),s.summary=document.createElement("p"),s.cart.appendChild(s.summary),s.button=document.createElement("input"),s.button.type="submit",s.button.value=e.strings.button||"Checkout",s.summary.appendChild(s.button),s.subtotal=document.createElement("span"),s.subtotal.innerHTML=e.strings.subtotal||"Subtotal: ",s.subtotalAmount=document.createElement("span"),s.subtotalAmount.innerHTML="0.00",s.subtotal.appendChild(s.subtotalAmount),s.summary.appendChild(s.subtotal),s.shipping=document.createElement("span"),s.shipping.className="shipping",s.shipping.innerHTML=e.strings.shipping||"does not include shipping &amp; tax",s.summary.appendChild(s.shipping),window.attachEvent&&!window.opera&&(r=navigator.userAgent.match(/MSIE\s([^;]*)/),r&&(r=parseFloat(r[1]),(7>r||r>=7&&"BackCompat"===document.compatMode)&&(s.cart.style.position="absolute",s.wrapper.style[e.displayEdge]="0",s.wrapper.style.setExpression("top","x = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop")))),i="string"==typeof e.parent?document.getElementById(e.parent):e.parent,i.appendChild(s.wrapper)},d=function(){var t,i,u,s=o.UI;for(t=document.getElementsByTagName("form"),u=0;t.length>u;u++)i=t[u],i.cmd&&r[i.cmd.value]&&o.bindForm(i);n.event.add(document,"click",function(e){if(a){var t=e.target,n=s.cart;if(!/input|button|select|option/i.test(t.tagName)){for(;1===t.nodeType;){if(t===n)return;t=t.parentNode}o.hide(null)}}}),n.event.add(s.cart,"submit",function(e){y(e)}),n.event.add(s.summary,"click",function(e){var t=e.target;t!==s.button&&o.toggle(e)}),window.attachEvent&&!window.opera?n.event.add(document,"storage",function(){setTimeout(b,100)}):n.event.add(window,"storage",function(t){(t.key&&t.key===e.name||!t.key)&&b()})},l=function(t){var n;for(n in t)void 0!==typeof e[n]&&(e[n]=t[n])},m=function(){var e,t,o;if(e=n.storage.load())for(t=e.length,o=0;t>o;o++)g(e[o])&&(a=!0)},f=function(e){var t,o,a,i,r=e.elements,u={};for(a=0,i=r.length;i>a;a++)t=r[a],(o=n.util.getInputValue(t))&&(u[t.name]=o);return u},h=function(t){var n,a,i,r,u,c,p,d={},l={};for(i in t)s.test(i)?l[i]=t[i]:d[i]=t[i];for(c=0,r=o.products.length;r>c;c++)if(n=o.products[c].product,d.item_name===n.item_name&&d.item_number===n.item_number){for(u=!0,p=0;n["os"+p];){if(d["os"+p]!==n["os"+p]){u=!1;break}p++}if(u){d.offset=n.offset;break}}for(d.href=d.href||window.location.href,d.quantity=d.quantity||1,d.amount=d.amount||0,l["return"]&&-1===l["return"].indexOf("#")&&(l["return"]+="#"+e.name+"=reset"),a=d.option_index?d.option_index:0;d["os"+a];){for(c=0;d["option_select"+c]!==void 0;){if(d["option_select"+c]===d["os"+a]){d.amount=d.amount+parseFloat(d["option_amount"+c]);break}c++}a++}return{product:d,settings:l}},b=function(e){o.products=[],o.UI.itemList.innerHTML="",o.UI.subtotalAmount.innerHTML="",m(),o.updateSubtotal(e)},g=function(e){var a,i,r,u=o.UI,s=u.cart,c=new t(e,o.UI.itemList.children.length+1),p=e.product.offset;o.products[p]=c;for(r in e.settings)s.elements[r]?s.elements[r].value?s.elements[r].value=e.settings[r]:s.elements[r]=e.settings[r]:(i=document.createElement("input"),i.type="hidden",i.name=r,i.value=e.settings[r],s.appendChild(i));if(c.isPlaceholder)return!1;n.event.add(c.removeInput,"click",function(){v(c,p)});var d=c.quantityInput.value;return n.event.add(c.quantityInput,"keyup",function(){var e=this;a=setTimeout(function(){var t=parseInt(e.value,10);isNaN(t)||t===d||(d=t,c.setQuantity(t),c.getQuantity()||v(c,p),o.updateSubtotal(),n.storage.save(o.products))},250)}),u.itemList.insertBefore(c.liNode,u.itemList.firstChild),n.util.animate(c.liNode,"opacity",{from:0,to:1}),!0},v=function(t,a){var i=e.events,r=i.onRemoveFromCart,u=i.afterRemoveFromCart;("function"!=typeof r||r.call(o,t)!==!1)&&(t.setQuantity(0),t.quantityInput.style.display="none",n.util.animate(t.liNode,"opacity",{from:1,to:0},function(){n.util.animate(t.liNode,"height",{from:18,to:0},function(){try{t.liNode.parentNode.removeChild(t.liNode)}catch(e){}var n,a,i,r,s,c,p=o.UI.cart.getElementsByTagName("li"),d=p.length,l=1;for(s=0;d>s;s++){for(n=p[s].getElementsByTagName("input"),a=n.length,c=0;a>c;c++)i=n[c],r=/(.+)_[0-9]+$/.exec(i.name),r&&r[1]&&(i.name=r[1]+"_"+l);l++}"function"==typeof u&&u.call(o,t)})}),o.products[a].product.item_name="",o.products[a].product.item_number="",o.updateSubtotal(),n.storage.save(o.products,e.cartDuration))},y=function(t){var n=e.events.onCheckout;return"function"==typeof n&&n.call(o,t)===!1?(t.preventDefault(),void 0):(o.UI.button.value=e.strings.processing||"Processing...",void 0)};return o.products=[],o.UI={},o.render=function(t){var r,u,s,m,f;l(t),r=e.events,u=r.onRender,s=r.afterRender,("function"!=typeof u||u.call(o)!==!1)&&(i||(c(),p(),d(),m=location.hash.substring(1),0===m.indexOf(e.name+"=")&&(f=m.split("=")[1],"reset"===f&&(o.reset(),location.hash=""))),b(!0),i||(a?setTimeout(function(){o.hide(null)},500):n.storage.remove()),i=!0,"function"==typeof s&&s.call(o))},o.bindForm=function(e){if(e.add)n.event.add(e,"submit",function(e){e.preventDefault(e);var t=f(e.target);o.addToCart(t)});else{if(!e.display)return!1;n.event.add(e,"submit",function(e){e.preventDefault(),o.show(e)})}return!0},o.addToCart=function(t){var a,i,r=e.events,u=r.onAddToCart,s=r.afterAddToCart,c=!1;return t=h(t),i=t.product.offset,"function"!=typeof u||u.call(o,t.product)!==!1?((a=this.getProductAtOffset(i))?(a.product.quantity+=parseInt(t.product.quantity||1,10),a.setPrice(t.product.amount*a.product.quantity),a.setQuantity(a.product.quantity),c=!0):(t.product.offset=o.products.length,c=g(t)),o.updateSubtotal(),o.show(null),n.storage.save(o.products,e.cartDuration),"function"==typeof s&&s.call(o,t),c):void 0},o.getProductAtOffset=function(e){return e!==void 0&&this.products[e]},o.calculateSubtotal=function(){var e,t,n,a,i,r,u=0,s=o.products;for(r=0,i=s.length;i>r;r++)t=s[r],(e=t.product)&&e.quantity&&e.amount&&(n=e.amount,a=t.getDiscount(),u+=parseFloat(n*e.quantity-a));return u.toFixed(2)},o.updateSubtotal=function(e){var t,a,i,r,u,s=o.UI,c=s.cart.elements,p=s.subtotalAmount,d=o.calculateSubtotal(),l=1;if(t="",a="",c.currency_code)t=c.currency_code.value||c.currency_code;else for(u=0,r=c.length;r>u;u++)if("currency_code"===c[u].name){t=c[u].value||c[u];break}p.innerHTML=n.util.formatCurrency(d,t),e||function m(){return i=l.toString(16),l++,p.style.backgroundColor="#ff"+i,l>=15?(p.style.backgroundColor="transparent","0.00"===d&&o.reset(),void 0):(setTimeout(m,30),void 0)}()},o.show=function(t){var i=parseInt(o.UI.cart.offsetTop,10),r=0,u=e.events,s=u.onShow,c=u.afterShow;t&&t.preventDefault&&t.preventDefault(),("function"!=typeof s||s.call(o,t)!==!1)&&(n.util.animate(o.UI.cart,"top",{from:i,to:r},function(){"function"==typeof c&&c.call(o,t)}),o.UI.summary.style.backgroundPosition="-195px 2px",a=!0)},o.hide=function(t,i){var r,u=o.UI,s=u.cart,c=u.summary,p=s.offsetHeight?s.offsetHeight:document.defaultView.getComputedStyle(s,"").getPropertyValue("height"),d=c.offsetHeight?c.offsetHeight:document.defaultView.getComputedStyle(c,"").getPropertyValue("height"),l=parseInt(s.offsetTop,10),m=e.events,f=m.onHide,h=m.afterHide;r=i||0===o.products.length||!e.peekEnabled?-1*p:-1*(p-d-8),t&&t.preventDefault&&t.preventDefault(),("function"!=typeof f||f.call(o,t)!==!1)&&(n.util.animate(s,"top",{from:l,to:r},function(){"function"==typeof h&&h.call(o,t)}),c.style.backgroundPosition="-195px -32px",a=!1)},o.toggle=function(e){a?o.hide(e):o.show(e)},o.reset=function(){var t=o.UI,i=e.events,r=i.onReset,u=i.afterReset;("function"!=typeof r||r.call(o)!==!1)&&(o.products=[],a&&(t.itemList.innerHTML="",t.subtotalAmount.innerHTML="",o.hide(null,!0)),n.storage.remove(),"function"==typeof u&&u.call(o))},o}();var t=function(e,t){this._view(e,t)};t.prototype={_view:function(e,t){var n,o,a,i,r,u,s;if(this.product=e.product,this.settings=e.settings,this.liNode=document.createElement("li"),this.nameNode=document.createElement("a"),this.metaNode=document.createElement("span"),this.discountNode=document.createElement("span"),this.discountInput=document.createElement("input"),this.priceNode=document.createElement("span"),this.quantityInput=document.createElement("input"),this.removeInput=document.createElement("input"),!this.product||!this.product.item_name&&!this.product.item_number)return this.isPlaceholder=!0,void 0;this.product.item_name&&(n=this.product.item_name),this.nameNode.innerHTML=n,this.nameNode.title=n,this.nameNode.href=this.product.href,this.nameNode.appendChild(this.metaNode),this.product.item_number&&(this.metaNode.innerHTML="<br />#"+this.product.item_number),r=this.getOptions();for(s in r)this.metaNode.innerHTML+="<br />"+s+": "+r[s];i=this.getDiscount(),i&&(this.discountInput.type="hidden",this.discountInput.name="discount_amount_"+t,this.discountInput.value=i,this.metaNode.appendChild(this.discountNode)),o=this.getPrice(),this.priceNode.className="price",a=this.getQuantity(),this.quantityInput.name="quantity_"+t,this.quantityInput.className="quantity",this.quantityInput.setAttribute("autocomplete","off"),this.setQuantity(a),this.removeInput.type="button",this.removeInput.className="remove",this.liNode.appendChild(this.nameNode),this.liNode.appendChild(this.quantityInput),i&&this.liNode.appendChild(this.discountInput),this.liNode.appendChild(this.removeInput),this.liNode.appendChild(this.priceNode);for(s in this.product)"quantity"!==s&&-1===s.indexOf("discount_")&&(u=document.createElement("input"),u.type="hidden",u.name=s+"_"+t,u.value=this.product[s],this.liNode.appendChild(u))},getDiscount:function(){var e,t=0,n=this.product.discount_num||-1;return this.product.discount_amount?(t=parseFloat(this.product.discount_amount),this.product.discount_amount2&&(e=this.getQuantity(),e>1&&(t+=Math.max(e-1,n)*parseFloat(this.product.discount_amount2)))):this.product.discount_rate&&(t=this.product.amount*parseFloat(this.product.discount_rate)/100,this.product.discount_rate2&&(e=this.getQuantity(),e>1&&(t+=Math.max(e-1,n)*this.product.amount*parseFloat(this.product.discount_amount2)/100))),t&&t.toFixed(2)},getOptions:function(){for(var e={},t=0;this.product["on"+t]!==void 0;)e[this.product["on"+t]]=this.product["os"+t],t++;return e},setQuantity:function(t){var o;t=parseInt(t,10),this.product.quantity=t,this.quantityInput.value!==t&&(this.quantityInput.value=t,(o=this.getDiscount())&&(this.discountInput.value=o,this.discountNode.innerHTML||this.metaNode.appendChild(this.discountNode),this.discountNode.innerHTML="<br />",this.discountNode.innerHTML+=e.strings.discount||"Discount: ",this.discountNode.innerHTML+=n.util.formatCurrency(o,this.settings.currency_code))),this.setPrice(this.product.amount*t)},getQuantity:function(){return void 0!==typeof this.product.quantity?this.product.quantity:1},setPrice:function(e){e=parseFloat(e,10),this.priceNode.innerHTML=n.util.formatCurrency(e.toFixed(2),this.settings.currency_code)},getPrice:function(){return(this.product.amount*this.getQuantity()).toFixed(2)}};var n={};n.storage=function(){var t=e.name;return window.localStorage?{load:function(){var e,o,a=localStorage.getItem(t);return a&&(a=JSON.parse(decodeURIComponent(a))),a&&a.expires&&(e=new Date,o=new Date(a.expires),e>o)?(n.storage.remove(),void 0):a&&a.value?a.value:a},save:function(e,n){var o,a,i,r,u=new Date,s=[];if(e){for(r=0,i=e.length;i>r;r++)a=e[r],s.push({product:a.product,settings:a.settings});u.setTime(u.getTime()+1e3*60*60*24*n),o={value:s,expires:u.toGMTString()},localStorage.setItem(t,encodeURIComponent(JSON.stringify(o)))}},remove:function(){localStorage.removeItem(t)}}:{load:function(){var e,n,o,a,i,r=t+"=";try{for(n=document.cookie.split(";"),i=0;n.length>i;i++){for(o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);0===o.indexOf(r)&&(a=o.substring(r.length,o.length),e=JSON.parse(decodeURIComponent(a)))}}catch(u){}return e},save:function(t,n){var o,a,i,r=new Date,u=[];if(t){for(i=0,a=t.length;a>i;i++)o=t[i],u.push({product:o.product,settings:o.settings});r.setTime(r.getTime()+1e3*60*60*24*n),document.cookie=e.name+"="+encodeURIComponent(JSON.stringify(u))+"; expires="+r.toGMTString()+"; path="+e.cookiePath}},remove:function(){this.save(null,-1)}}}(),n.event=function(){var e=[];return document.addEventListener?{add:function(t,n,o,a){a=a||t;var i=function(e){o.call(a,e)};t.addEventListener(n,i,!1),e.push([t,n,o,i])},remove:function(t,n,o){var a,i,r,u=e.length;for(r=0;u>r;r++)i=e[r],i[0]===t&&i[1]===n&&i[2]===o&&(a=i[3],a&&(t.removeEventListener(n,a,!1),delete e[r]))}}:document.attachEvent?{add:function(t,n,o,a){a=a||t;var i=function(){var e=window.event;e.target=e.target||e.srcElement,e.preventDefault=function(){e.returnValue=!1},o.call(a,e)};t.attachEvent("on"+n,i),e.push([t,n,o,i])},remove:function(t,n,o){var a,i,r,u=e.length;for(r=0;u>r;r++)i=e[r],i[0]===t&&i[1]===n&&i[2]===o&&(a=i[3],a&&(t.detachEvent("on"+n,a),delete e[r]))}}:void 0}(),n.util={animate:function(e,t,n,o){n=n||{},n.from=n.from||0,n.to=n.to||0,n.duration=n.duration||10,n.unit=/top|bottom|left|right|width|height/.test(t)?"px":"";var a=(n.to-n.from)/20,i=n.from;(function r(){return e.style[t]=i+n.unit,i+=a,a>0&&i>n.to||0>a&&n.to>i||0===a?(e.style[t]=n.to+n.unit,"function"==typeof o&&o(),void 0):(setTimeout(r,n.duration),void 0)})()},getInputValue:function(e){var t=e.tagName.toLowerCase();return"select"===t?e.options[e.selectedIndex].value:"textarea"===t?e.innerHTML:"radio"===e.type?e.checked?e.value:null:"checkbox"===e.type?e.checked?e.value:null:e.value},formatCurrency:function(e,t){var n={AED:{before:"ج"},ANG:{before:"ƒ"},ARS:{before:"$"},AUD:{before:"$"},AWG:{before:"ƒ"},BBD:{before:"$"},BGN:{before:"лв"},BMD:{before:"$"},BND:{before:"$"},BRL:{before:"R$"},BSD:{before:"$"},CAD:{before:"$"},CHF:{before:""},CLP:{before:"$"},CNY:{before:"¥"},COP:{before:"$"},CRC:{before:"₡"},CZK:{before:"Kc"},DKK:{before:"kr"},DOP:{before:"$"},EEK:{before:"kr"},EUR:{before:"€"},GBP:{before:"£"},GTQ:{before:"Q"},HKD:{before:"$"},HRK:{before:"kn"},HUF:{before:"Ft"},IDR:{before:"Rp"},ILS:{before:"₪"},INR:{before:"Rs."},ISK:{before:"kr"},JMD:{before:"J$"},JPY:{before:"¥"},KRW:{before:"₩"},KYD:{before:"$"},LTL:{before:"Lt"},LVL:{before:"Ls"},MXN:{before:"$"},MYR:{before:"RM"},NOK:{before:"kr"},NZD:{before:"$"},PEN:{before:"S/"},PHP:{before:"Php"},PLN:{before:"z"},QAR:{before:"﷼"},RON:{before:"lei"},RUB:{before:"руб"},SAR:{before:"﷼"},SEK:{before:"kr"},SGD:{before:"$"},THB:{before:"฿"},TRY:{before:"TL"},TTD:{before:"TT$"},TWD:{before:"NT$"},UAH:{before:"₴"},USD:{before:"$"},UYU:{before:"$U"},VEF:{before:"Bs"},VND:{before:"₫"},XCD:{before:"$"},ZAR:{before:"R"}},o=n[t]||{},a=o.before||"",i=o.after||"";return a+e+i}}}}(),PAYPAL===void 0||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(){"use strict";function e(e,t){var o,a,u,s,c,p,d,l=document.createElement("form"),m=document.createElement("input"),f=document.createElement("input"),h=e.items;m.type="image",f.type="hidden",l.method="post",l.action=r,l.className="paypal-button",l.target="_top";for(c in h)o=h[c],o.isEditable?(s=document.createElement("input"),s.type="text",s.className="paypal-input",s.name=o.key,s.value=o.value,u=document.createElement("label"),u.className="paypal-label",u.appendChild(document.createTextNode(i.config.labels[o.key]+" "||"")),u.appendChild(s),a=document.createElement("p"),a.className="paypal-group",a.appendChild(u)):(s=a=f.cloneNode(!0),s.name=o.key,s.value=o.value),l.appendChild(a);if(p=h.size&&h.size.value,d=h.lc&&h.lc.value,l.appendChild(m),m.src=n(t,p,d),PAYPAL.apps.MiniCart&&"_cart"===e.items.cmd.value){var b=PAYPAL.apps.MiniCart;b.UI.itemList||b.render(),b.bindForm(l)}return l}function t(e,t){var n,o,a=document.createElement("img"),i=r+"?",s=13,c=e.items;t=t&&t.value||250;for(o in c)n=c[o],i+=n.key+"="+encodeURIComponent(n.value)+"&";return i=encodeURIComponent(i),a.src=u.replace("{url}",i).replace("{pattern}",s).replace("{size}",t),a}function n(e,t,n){var o=p[e]||p.buynow;return n=n||"en_US",t="small"===t?"SM":"LG",o.replace(/\{locale\}/,n).replace(/\{size\}/,t)}function o(e){var t,n,o,a,i,r={};if(t=e.attributes)for(i=0,a=t.length;a>i;i++)n=t[i],(o=/^data-([a-z0-9_]+)(-editable)?/i.exec(n.name))&&(r[o[1]]={value:n.value,isEditable:!!o[2]});return r}function a(){this.items={},this.add=function(e,t,n){this.items[e]={key:e,value:t,isEditable:n}},this.remove=function(e){delete this.items[e]}}var i={},r="https://www.paypal.com/cgi-bin/webscr",u="https://www.paypal.com/webapps/ppint/qrcode?data={url}&pattern={pattern}&height={size}",s="JavaScriptButton_{type}",c={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3"},p={buynow:"//www.paypalobjects.com/{locale}/i/btn/btn_buynow_{size}.gif",cart:"//www.paypalobjects.com/{locale}/i/btn/btn_cart_{size}.gif",donate:"//www.paypalobjects.com/{locale}/i/btn/btn_donate_{size}.gif",subscribe:"//www.paypalobjects.com/{locale}/i/btn/btn_subscribe_{size}.gif"};if(PAYPAL.apps.ButtonFactory||(i.config={labels:{item_name:"Item",item_number:"Number",amount:"Amount",quantity:"Quantity"}},i.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},i.create=function(n,o,i,r){var u,p,d=new a;if(!n)return!1;for(p in o)d.add(c[p]||p,o[p].value,o[p].isEditable);return i=i||"buynow","cart"===i?(d.add("cmd","_cart"),d.add("add",!0)):"donate"===i?d.add("cmd","_donations"):"subscribe"===i?(d.add("cmd","_xclick-subscriptions"),d.items.amount&&!d.items.a3&&d.add("a3",d.items.amount.value)):d.add("cmd","_xclick"),d.add("business",n),d.add("bn",s.replace(/\{type\}/,i)),"qr"===i?(u=t(d,d.items.size),d.remove("size")):u=e(d,i),this.buttons[i]+=1,r&&r.appendChild(u),u},PAYPAL.apps.ButtonFactory=i),"undefined"!=typeof document){var d,l,m,f,h,b,g=PAYPAL.apps.ButtonFactory,v=document.getElementsByTagName("script");for(h=0,b=v.length;b>h;h++)d=v[h],d&&d.src&&(l=d&&o(d),m=l&&l.button&&l.button.value,f=d.src.split("?merchant=")[1],f&&(g.create(f,l,m,d.parentNode),d.parentNode.removeChild(d)))}}(),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);